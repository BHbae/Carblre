<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.carblre.repository.interfaces.CsRepository">

	<insert id="insetCs">
		INSERT INTO customer_service_tb (user_id, title,
		request, request_time)
		VALUES(#{id}, #{title}, #{content}, now())
	</insert>

	<select id="findAllCs" resultType="com.carblre.dto.CsAllDTO">
		SELECT cs.id ,cs.title,u.user_name ,cs.request_time
		FROM customer_service_tb cs
		JOIN user_tb u ON cs.user_id = u.id
		ORDER BY cs.id DESC
		limit #{limit} offset #{offset}
	</select>
	
	<select id="countAllCs" resultType="int">
		select count(*) from customer_service_tb
	</select>

</mapper>