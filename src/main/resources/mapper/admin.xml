<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.carblre.repository.interfaces.AdminRepository">

	<select id="readAllGeneralUser"
		resultType="com.carblre.repository.model.AdminUser">
		select * from user_tb where role is null
	</select>

	<select id="readAllCorporateUser"
		resultType="com.carblre.dto.admin.AdminLawyerUserDTO">
		select u.user_name, u.nick_name, u.password, u.email, u.phone_num,
		u.role, ld.id, ld.user_id, ld.uploard_profile_name, ld.introduction,
		ld.law_firm, ld.office_num from user_tb u
		left join lawyer_detail_tb ld
		on u.id = ld.user_id
		where u.role = 'corporate'
	</select>

	<select id="readAllPost"
		resultType="com.carblre.repository.model.AdminPost">
		select * from post_tb
	</select>

	<select id="readAllCrush"
		resultType="com.carblre.repository.model.AdminCrush">
		select * from crushapi_tb
	</select>

	<select id="existsById" resultType="boolean">
		select count(*) > 0 from post_tb where id = #{id}
	</select>

	<delete id="deleteById">
		delete from post_tb where id = #{id}
	</delete>

</mapper>